{"version":3,"sources":["utils/initializeRenderer.js","static/camera_para.dat","utils/arToolkit.js","components/ViewerAr.js","App.js","reportWebVitals.js","index.js"],"names":["THREE","Color","WebGLRenderer","initializeRenderer","canvas","renderer","alpha","setClearColor","setSize","window","innerWidth","innerHeight","domElement","style","position","top","left","THREEx","ArMarkerControls","ArToolkitContext","ArToolkitSource","Camera","Scene","ViewerAR","useState","markerFound","setMarkerFound","useEffect","scene","camera","add","onRenderFcts","arToolkitContext","type","descriptorsUrl","changeMatrixMode","getMarker","baseURL","arToolkitSource","sourceType","onResize","onResizeElement","copyElementSizeTo","arController","init","addEventListener","cameraParametersUrl","cameraData","detectionMode","projectionMatrix","copy","getProjectionMatrix","push","ready","update","initializeArToolkit","render","ref","node","App","vh","document","documentElement","clientHeight","setProperty","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"oKACiCA,MAAzBC,E,EAAAA,MAAOC,E,EAAAA,cAYAC,EAVY,SAACC,GAC1B,IAAMC,EAAW,IAAIH,EAAc,CAAEI,OAAO,EAAMF,WAMlD,OALAC,EAASE,cAAc,IAAIN,EAAM,aAAc,GAC/CI,EAASG,QAAQC,OAAOC,WAAYD,OAAOE,aAC3CN,EAASO,WAAWC,MAAMC,SAAW,WACrCT,EAASO,WAAWC,MAAME,IAAM,MAChCV,EAASO,WAAWC,MAAMG,KAAO,MAC1BX,GCVM,MAA0B,wC,ECIuBY,OAAxDC,E,EAAAA,iBAAkBC,E,EAAAA,iBAAkBC,E,EAAAA,gB,SCElBpB,MAAlBqB,E,EAAAA,OAAQC,E,EAAAA,MAqDDC,EAnDE,WAAO,IAAD,EACiBC,oBAAS,GAD1B,mBACdC,EADc,KACDC,EADC,KAGjBtB,EAAS,KAEbuB,qBAAU,WACR,IAAMtB,EAAWF,EAAmBC,GAE9BwB,EAAQ,IAAIN,EACZO,EAAS,IAAIR,EACnBO,EAAME,IAAID,GAEV,IAAME,EAAe,ID2BA,SAACC,EAAkBH,GAC1C,OAAO,IAAIX,EAAiBc,EAAkBH,EAAQ,CACpDI,KAAO,MACPC,eAAiB,2BACjBC,iBAAkB,2BCxBHC,CDrBgB,SAAC/B,EAAUwB,EAAQE,GACpDZ,EAAiBkB,QAAU,MAE3B,IAAMC,EAAkB,IAAIlB,EAAgB,CAAEmB,WAAY,WAEpDC,EAAW,WACfF,EAAgBG,kBAChBH,EAAgBI,kBAAkBrC,EAASO,YACL,OAAlCoB,EAAiBW,cACnBL,EAAgBI,kBAAkBV,EAAiBW,aAAavC,SAIpEkC,EAAgBM,MAAK,WACnBJ,OAGF/B,OAAOoC,iBAAiB,UAAU,WAChCL,OAIF,IAAMR,EAAmB,IAAIb,EAAiB,CAC5C2B,oBAAqBC,EACrBC,cAAe,SAcjB,OATAhB,EAAiBY,MAAK,WACpBf,EAAOoB,iBAAiBC,KAAKlB,EAAiBmB,0BAIhDpB,EAAaqB,MAAK,YACc,IAA1Bd,EAAgBe,OACpBrB,EAAiBsB,OAAOhB,EAAgB1B,eAEnCoB,ECvBoBuB,CACvBlD,EACAwB,EACAE,GAGyCF,GACpCgB,iBAAiB,eAAe,WACrCnB,GAAe,MAOjBK,EAAaqB,MAAK,WAChB/C,EAASmD,OAAO5B,EAAOC,QAIxB,IAMH,OACE,gCACE,wBAAQ4B,IANK,SAACC,GAChBtD,EAASsD,MAMLjC,GACA,8BACE,oDC1BKkC,EAxBH,WACV,IAAIC,EAIsB,KAHtBC,UACAA,SAASC,iBACTD,SAASC,gBAAgBC,cACzBtD,OAAOE,aAYX,OAXAkD,SAASC,gBAAgBjD,MAAMmD,YAAY,OAA3C,UAAsDJ,EAAtD,OAEAnD,OAAOoC,iBAAiB,UAAU,WAChCe,EAI0B,KAHtBC,UACAA,SAASC,iBACTD,SAASC,gBAAgBC,cACzBtD,OAAOE,aACXkD,SAASC,gBAAgBjD,MAAMmD,YAAY,OAA3C,UAAsDJ,EAAtD,UAIA,qBAAKK,UAAU,MAAf,SACE,cAAC,EAAD,OCTSC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASnB,OACP,cAAC,IAAMoB,WAAP,UACE,cAAC,EAAD,MAEFf,SAASgB,eAAe,SAM1BX,K","file":"static/js/main.4b24dec8.chunk.js","sourcesContent":["/* globals THREE */\nconst { Color, WebGLRenderer } = THREE;\n\nconst initializeRenderer = (canvas) => {\n  const renderer = new WebGLRenderer({ alpha: true, canvas });\n  renderer.setClearColor(new Color('lightgrey'), 0);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.domElement.style.position = 'absolute';\n  renderer.domElement.style.top = '0px';\n  renderer.domElement.style.left = '0px';\n  return renderer;\n};\n\nexport default initializeRenderer;\n","export default __webpack_public_path__ + \"static/media/camera_para.fb94e301.dat\";","/* globals THREEx */\nimport cameraData from '../static/camera_para.dat';\n\n\nconst { ArMarkerControls, ArToolkitContext, ArToolkitSource } = THREEx;\n\nexport const initializeArToolkit = (renderer, camera, onRenderFcts) => {\n  ArToolkitContext.baseURL = '../';\n\n  const arToolkitSource = new ArToolkitSource({ sourceType: 'webcam' });\n\n  const onResize = () => {\n    arToolkitSource.onResizeElement();\n    arToolkitSource.copyElementSizeTo(renderer.domElement);\n    if (arToolkitContext.arController !== null) {\n      arToolkitSource.copyElementSizeTo(arToolkitContext.arController.canvas);\n    }\n  };\n\n  arToolkitSource.init(() => {\n    onResize();\n  });\n\n  window.addEventListener('resize', () => {\n    onResize();\n  });\n\n  // create atToolkitContext\n  const arToolkitContext = new ArToolkitContext({\n    cameraParametersUrl: cameraData,\n    detectionMode: 'mono',\n    // canvasWidth: 800,\n    // canvasHeight: 600\n  });\n\n  arToolkitContext.init(() => {\n    camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());\n  });\n\n  // update artoolkit on every frame\n  onRenderFcts.push(() => {\n    if (arToolkitSource.ready === false) return;\n    arToolkitContext.update(arToolkitSource.domElement);\n  });\n  return arToolkitContext;\n};\n\nexport const getMarker = (arToolkitContext, camera) => {\n  return new ArMarkerControls(arToolkitContext, camera, {\n    type : 'nft',\n    descriptorsUrl : 'markers/digitalls_marker',\n    changeMatrixMode: 'cameraTransformMatrix'\n  });\n};\n","/* globals THREE */\nimport { useEffect, useState } from 'react';\n\nimport initializeRenderer from '../utils/initializeRenderer';\nimport { initializeArToolkit, getMarker } from '../utils/arToolkit';\n\nconst { Camera, Scene } = THREE;\n\nconst ViewerAR = () => {\n  const [markerFound, setMarkerFound] = useState(false);\n\n  let canvas = null;\n\n  useEffect(() => {\n    const renderer = initializeRenderer(canvas);\n\n    const scene = new Scene();\n    const camera = new Camera();\n    scene.add(camera);\n\n    const onRenderFcts = [];\n    const arToolkitContext = initializeArToolkit(\n      renderer,\n      camera,\n      onRenderFcts\n    );\n\n    const marker = getMarker(arToolkitContext, camera);\n    marker.addEventListener('markerFound', () => {\n      setMarkerFound(true);\n    });\n\n    // var light = new AmbientLight(0x404040, props.light); // white light\n    // scene.add(light);\n\n    // render the scene\n    onRenderFcts.push(() => {\n      renderer.render(scene, camera);\n    });\n\n    // eslint-disable-next-line\n  }, []);\n\n  const storeRef = (node) => {\n    canvas = node;\n  };\n\n  return (\n    <div>\n      <canvas ref={storeRef} />\n      {!markerFound && (\n        <div>\n          <h1>Marker found</h1>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ViewerAR;\n","import ViewerAR from './components/ViewerAr';\n\nconst App = () => {\n  let vh =\n    ((document &&\n      document.documentElement &&\n      document.documentElement.clientHeight) ||\n      window.innerHeight) * 0.01;\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n\n  window.addEventListener(\"resize\", () => {\n    vh =\n      ((document &&\n        document.documentElement &&\n        document.documentElement.clientHeight) ||\n        window.innerHeight) * 0.01;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n  });\n\n  return (\n    <div className=\"App\">\n      <ViewerAR />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}